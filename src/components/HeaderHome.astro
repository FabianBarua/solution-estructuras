---
import Logo from "@/components/Logo.astro";
import CategoriesSelect from "@/components/CategoriesSelect.astro";
import Whatsapp from "./icons/Whatsapp.astro";
import HomeArticle from "./HomeArticle.astro";

interface Props {
  isHome?: boolean;
}

const { isHome }: Props = Astro.props;
---

<header
  id={isHome ? "headerHome" : "headerLayout"}
  transition:animate="none"
  class={`w-full text-white py-12 bg-customOrange-500 transition-all flex flex-col  items-center sm:rounded-b-[100px]  `}
>
  <nav
    transition:name="header-home-nav"
    class="w-full max-w-5xl flex justify-between items-center p-6 lg:p-0"
  >
    <a href="/">
      <Logo />
    </a>
    <ul class="gap-2 sm:flex hidden">
      <li
        class="transition-all bg-transparent hover:bg-customOrange-700 rounded-lg"
      >
        <a href="/#sobre" class="px-2">Sobre</a>
      </li>
      <li class="relative z-20">
        <CategoriesSelect />
      </li>
      <li
        class="transition-all bg-transparent hover:bg-customOrange-700 rounded-lg"
      >
        <a href="/#contacto" class="px-2">Contacto</a>
      </li>
    </ul>
  </nav>

  {
    isHome && (
      <div
        id="homeInitial"
        transition:animate="none"
        class=" z-0 p-6 lg:p-0 pointer-events-none relative    sm:my-12 w-full max-w-5xl  justify-center gap-20 mx-auto "
      >
        <div class="  lg:block hidden w-full max-w-96 h-56 relative">
          <div class=" absolute  right-20 -bottom-12 -rotate-12  scale-75">
            <HomeArticle
              visibility={100}
              title="Poste"
              id={2}
              image="/images/poste.png"
            />
          </div>
          <div class=" absolute right-0 rotate-[-4.45deg]">
            <HomeArticle title="Andamio" id={1} image="/images/andamio.png" />
          </div>
        </div>
        <div>
          <p class=" text-[18px] pointer-events-none opacity-50">
            Desde 1980 para vos
          </p>
          <h1 class="text-[39.36px]  max-w-[400px]  leading-[.9]">
            Soluciones <br /> para tus problemas en un <b>solo lugar</b>
          </h1>
          <a
            href="#"
            style="box-shadow: #8848ff59 0px 0px 25px 0px;"
            class=" pointer-events-auto shadow-customBlue-400 hover:bg-customBlue-400 hover:-translate-y-1 transition-all flex justify-center items-center w-min text-nowrap gap-2 bg-customBlue-500 px-2 py-1 rounded-xl mt-4"
          >
            Contratar ya
            <Whatsapp />
          </a>
        </div>
      </div>
    )
  }
</header>

<style>
  #homeInitial {
    animation: slideIn 0.5s ease-in;
    display: flex;
  }
  #headerHome {
    animation: headerIn 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
    height: 466px;
    border-bottom-right-radius: 260px;
    border-bottom-left-radius: 260px;
  }

  #headerLayout {
    border-bottom-right-radius: 100px;
    border-bottom-left-radius: 100px;
  }

  @keyframes slideIn {
    0% {
      opacity: 0;
    }

    50% {
      opacity: 0;
      transform: translateY(30%);
      display: none;
    }
    100% {
      opacity: 1;
      display: flex;
    }
  }

  @keyframes headerIn {
    from {
      height: 146px;
      border-bottom-right-radius: 100px;
      border-bottom-left-radius: 100px;
    }
    to {
      height: 466px;
      border-bottom-right-radius: 260px;
      border-bottom-left-radius: 260px;
    }
  }

  @media (max-width: 1024px) {
    #headerHome {
      border-bottom-right-radius: 100px;
      border-bottom-left-radius: 100px;
    }

    #headerLayout {
      border-bottom-right-radius: 50px;
      border-bottom-left-radius: 50px;
    }

    @keyframes headerIn {
      from {
        height: 146px;
        border-bottom-right-radius: 100px;
        border-bottom-left-radius: 100px;
      }
      to {
        height: 466px;
        border-bottom-right-radius: 100px;
        border-bottom-left-radius: 100px;
      }
    }
  }
</style>
